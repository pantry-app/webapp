<mat-card *ngIf="recipe !== null && !deleted">
  <mat-card-header>
    <mat-card-title fxLayout="row" fxLayoutAlign="space-between center">
      <span class="recipe-name">
        {{ recipe.name }}
      </span>
      <button mat-icon-button
              class="menu"
              [matMenuTriggerFor]="menu">
        <mat-icon>more_vert</mat-icon>
      </button>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-action-list>
      <button *ngFor="let ingredient of recipe.ingredients"
              mat-list-item
              class="ingredient"
              (click)="handleEditIngredient(ingredient)">
          {{ ingredient.name }}
      </button>
      <button *ngIf="recipe.ingredients.length === 0"
              mat-list-item
              (click)="handleAddIngredient()">
        Add Ingredient
      </button>
    </mat-action-list>
  </mat-card-content>
</mat-card>

<mat-menu #menu="matMenu">
  <button mat-menu-item
          (click)="handleAddIngredient()">
    <mat-icon>add</mat-icon>
    <span>
      Add Ingredient
    </span>
  </button>
  <button mat-menu-item
          (click)="handleEdit()">
    <mat-icon>edit</mat-icon>
    <span>
      Edit
    </span>
  </button>
  <button mat-menu-item
          (click)="handleDelete()">
    <mat-icon>delete</mat-icon>
    <span>
      Delete
    </span>
  </button>
</mat-menu>
