<div class="row"
     fxLayout="row"
     fxLayoutAlign="center">
  <div *ngIf="!loading">
    <mat-card *ngIf="shoppingList !== null">
      <mat-card-header>
        <mat-card-title fxLayout="row" fxLayoutAlign="space-between center">
        <span>
          Shopping List
        </span>
          <button mat-icon-button
                  [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>

          <mat-menu #menu="matMenu">
            <button mat-menu-item
                    (click)="handleRefresh()">
              <mat-icon>refresh</mat-icon>
              <span>Refresh</span>
            </button>
          </mat-menu>
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-selection-list>
          <mat-list-option *ngFor="let ingredient of shoppingList.ingredients">
            <h4 mat-line>
              {{ ingredient.name }}
            </h4>
          </mat-list-option>
        </mat-selection-list>
      </mat-card-content>
      <mat-card-actions align="end">
        <button mat-button
                (click)="handleSubmit()">
          Submit
        </button>
      </mat-card-actions>
    </mat-card>

    <mat-card *ngIf="shoppingList === null">
      <mat-card-header>
        <mat-card-title fxLayout="row" fxLayoutAlign="space-between center">
        <span>
          Shopping List
        </span>
          <button mat-icon-button
                  [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item disabled>
              <mat-icon>error</mat-icon>
              <span>N/A</span>
            </button>
          </mat-menu>
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>
          No active shopping list.
        </p>
      </mat-card-content>
      <mat-card-actions align="end">
        <button mat-button
                (click)="handleCreate()">
          Create
        </button>
      </mat-card-actions>
    </mat-card>
  </div>

  <mat-card *ngIf="loading">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </mat-card>
</div>
